(self.webpackChunkpersonal_organizer=self.webpackChunkpersonal_organizer||[]).push([[74],{5700:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r="Container_container__tBIbN",a=n(1694),s=n.n(a),o=n(184),i=function(e){var t=e.className,n=e.children,a=s()(r,t);return(0,o.jsx)("div",{className:a,children:n})}},1074:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r="ContactsView_contactscVies__RaxdL",a="ContactsView_item__ewtW1",s="ContactsView_contactsTitle__M6yex",o=n(1413),i=n(885),c=n(2791),u=n(1134),l=n(6429),d=n.n(l),f=n(4317),h=n(6863),m=n(9782),v=n(5264),p={nameRegex:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,phoneRegExp:/^((\\+[1-9]{1,4}[ \\-]*)|[(\+\(\))]|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/},x=n(3027),g=n(3360),b="ContactForm_contactForm__oo9SZ",N=n(184),j=function(){var e=(0,c.useState)(!0),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,m.wY)(),s=a.data,l=a.refetch,j=(0,m.Lr)(),Z=(0,i.Z)(j,2),y=Z[0],w=Z[1],C=w.isLoading,_=w.isSuccess,L=(0,c.useState)({name:"",number:""}),I=(0,i.Z)(L,2),E=I[0],V=(I[1],h.Ry().shape({name:h.Z_().required("Name is required").min(6,"Name must be at least 6 characters").max(20,"Name must not exceed 20 characters").matches(p.nameRegex,"Name is not valid its should contain only alphabet letters"),number:h.Z_().matches(p.phoneRegExp,"Phone number is not valid its should contain only numbers")})),R=(0,u.cI)({mode:"onTouched",reValidateMode:"onChange",defaultValues:E,resolver:(0,f.X)(V)}),S=R.register,k=R.resetField,z=R.handleSubmit,M=R.formState.errors;(0,c.useEffect)((function(){_&&v.Notify.success("Contact added successfully"),k("name"),k("number"),l()}),[_]);return(0,N.jsx)("div",{className:b,children:(0,N.jsxs)(x.Z,{onSubmit:z((function(e,t){t.preventDefault();var n=e.name,r=e.number,a={id:d().generate(),name:n,number:r};y(a)}),(function(e){console.log("ERROR:::",e)})),children:[(0,N.jsxs)(x.Z.Group,{className:"mb-3",controlId:"formBasicTextName",onChange:function(e){!function(e){var t=e.currentTarget.childNodes[1].value;if(s.find((function(e){return e.name.toLowerCase()===t.toLowerCase().replace(/ +/g," ").trim()})))return r(!0),v.Notify.warning("".concat(t," is already in contacts."));r(!1)}(e)},children:[(0,N.jsx)(x.Z.Label,{children:"Contact name"}),(0,N.jsx)(x.Z.Control,(0,o.Z)({type:"text",placeholder:"Enter contact name"},S("name"))),M.name&&(0,N.jsx)(x.Z.Text,{className:"text-danger",children:M.name.message})]}),(0,N.jsxs)(x.Z.Group,{className:"mb-3",controlId:"formBasicPhoneNumber",children:[(0,N.jsx)(x.Z.Label,{children:"Phone number"}),(0,N.jsx)(x.Z.Control,(0,o.Z)({type:"text",placeholder:"Enter contact phohe number"},S("number"))),M.number&&(0,N.jsx)(x.Z.Text,{className:"text-danger",children:M.number.message})]}),(0,N.jsx)(g.Z,{variant:"primary",type:"submit",disabled:n,children:C?(0,N.jsx)(N.Fragment,{children:"Adding..."}):(0,N.jsx)(N.Fragment,{children:"Add contact"})})]})})},Z=n(5700),y={listItem:"ContactsList_listItem__WqkE4",info:"ContactsList_info__PnMXv"},w=n(5048),C=n(5987),_=n(1694),L=n.n(_),I=(n(2391),n(239)),E=n(9004),V=n(162),R=n(9007),S=n(4787),k=n(8633),z=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],M=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,a=e.disabled,s=e.eventKey,c=e.className,u=e.variant,l=e.action,d=e.as,f=(0,C.Z)(e,z);n=(0,V.vE)(n,"list-group-item");var h=(0,S.v)((0,o.Z)({key:(0,k.h)(s,f.href),active:r},f)),m=(0,i.Z)(h,2),v=m[0],p=m[1],x=(0,R.Z)((function(e){if(a)return e.preventDefault(),void e.stopPropagation();v.onClick(e)}));a&&void 0===f.tabIndex&&(f.tabIndex=-1,f["aria-disabled"]=!0);var g=d||(l?f.href?"a":"button":"div");return(0,N.jsx)(g,(0,o.Z)((0,o.Z)((0,o.Z)({ref:t},f),v),{},{onClick:x,className:L()(c,n,p.isActive&&"active",a&&"disabled",u&&"".concat(n,"-").concat(u),l&&"".concat(n,"-action"))}))}));M.displayName="ListGroupItem";var P=M,T=["className","bsPrefix","variant","horizontal","numbered","as"],A=c.forwardRef((function(e,t){var n,r=(0,I.Ch)(e,{activeKey:"onSelect"}),a=r.className,s=r.bsPrefix,i=r.variant,c=r.horizontal,u=r.numbered,l=r.as,d=void 0===l?"div":l,f=(0,C.Z)(r,T),h=(0,V.vE)(s,"list-group");return c&&(n=!0===c?"horizontal":"horizontal-".concat(c)),(0,N.jsx)(E.Z,(0,o.Z)((0,o.Z)({ref:t},f),{},{as:d,className:L()(a,h,i&&"".concat(h,"-").concat(i),n&&"".concat(h,"-").concat(n),u&&"".concat(h,"-numbered"))}))}));A.displayName="ListGroup";var F=Object.assign(A,{Item:P}),q=n(1538),D=n(9529),K=function(){var e=(0,m.wY)(),t=e.data,n=e.isLoading,r=e.refetch,a=e.isSuccess,s=(0,m.Nt)(),o=(0,i.Z)(s,2),u=o[0],l=o[1],d=(l.isLoading,l.isSuccess),f=(0,w.v9)(q.zK).filter,h=(0,c.useState)(null),p=(0,i.Z)(h,2),x=p[0],b=p[1];(0,c.useEffect)((function(){d&&(v.Notify.success("Contact deleted"),r())}),[d]);var j=""===f?t:t.filter((function(e){return e.name.toLowerCase().includes(f.toLowerCase())})),Z=(0,N.jsx)(F,{className:y.contactsList,children:a&&j.map((function(e){var t=e.name,n=e.id,r=e.number;return(0,N.jsxs)(F.Item,{className:y.listItem,id:n,children:[(0,N.jsxs)("div",{className:y.info,children:[(0,N.jsxs)("span",{className:y.contactName,children:[t,": "]}),(0,N.jsx)("span",{className:y.phoneNumber,children:r})]}),x===n?(0,N.jsx)(g.Z,{children:"Deleting..."}):(0,N.jsx)(g.Z,{variant:"primary",type:"button",onClick:function(e){return function(e,t){b(t),u(t)}(0,n)},children:"Delete contact"})]},n)}))});return n?(0,N.jsx)(D.Z,{}):0!==t.length?Z:"You have no contacts"},G=function(){var e=(0,w.I0)(),t=(0,w.v9)(q.zK).filter;return(0,N.jsx)(x.Z,{children:(0,N.jsx)(x.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:(0,N.jsx)(x.Z.Control,{type:"text",placeholder:"Search...",value:t,onChange:function(t){return e((0,q.Tv)(t.currentTarget.value))}})})})},O=n(4867),U=function(){var e=(0,w.I0)();return(0,c.useEffect)((function(){e(O.r5.fetchCurrentUser()).unwrap().catch((function(){v.Notify.warning("Sorry, your authorization token expired, please relogin",{}),e(O.r5.logOut())}))}),[e]),(0,w.v9)(O.um.getIsFetchingCurrentUser)?(0,N.jsx)(D.Z,{}):(0,N.jsx)(Z.W,{children:(0,N.jsxs)("ul",{className:r,children:[(0,N.jsxs)("li",{className:a,children:[(0,N.jsx)("h4",{className:s,children:"Add contacts info"}),(0,N.jsx)(j,{}),(0,N.jsx)("h4",{className:s,children:"Find contacts"}),(0,N.jsx)(G,{})]}),(0,N.jsxs)("li",{className:a,children:[(0,N.jsx)("h4",{className:s,children:"List of Contacts"}),(0,N.jsx)(K,{})]})]})})}},6429:function(e,t,n){"use strict";e.exports=n(5274)},8857:function(e,t,n){"use strict";var r,a,s,o=n(5408),i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){s=!1}function u(e){if(e){if(e!==r){if(e.length!==i.length)throw new Error("Custom alphabet for shortid must be "+i.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+i.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,c()}}else r!==i&&(r=i,c())}function l(){return s||(s=function(){r||u(i);for(var e,t=r.split(""),n=[],a=o.nextValue();t.length>0;)a=o.nextValue(),e=Math.floor(a*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||i},characters:function(e){return u(e),r},seed:function(e){o.seed(e),a!==e&&(c(),a=e)},lookup:function(e){return l()[e]},shuffled:l}},7098:function(e,t,n){"use strict";var r,a,s=n(2226);n(8857);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===a?r++:(r=0,a=n),t+=s(7),t+=s(e),r>0&&(t+=s(r)),t+=s(n)}},2226:function(e,t,n){"use strict";var r=n(8857),a=n(9139),s=n(2483);e.exports=function(e){for(var t,n=0,o="";!t;)o+=s(a,r.get(),1),t=e<Math.pow(16,n+1),n++;return o}},5274:function(e,t,n){"use strict";var r=n(8857),a=n(7098),s=n(6046),o=n(5347)||0;function i(){return a(o)}e.exports=i,e.exports.generate=i,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return o=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=s},6046:function(e,t,n){"use strict";var r=n(8857);e.exports=function(e){return!(!e||"string"!==typeof e||e.length<6)&&!new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},9139:function(e){"use strict";var t,n="object"===typeof window&&(window.crypto||window.msCrypto);t=n&&n.getRandomValues?function(e){return n.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},5408:function(e){"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},5347:function(e){"use strict";e.exports=0},2483:function(e){e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,a=-~(1.6*r*n/t.length),s="";;)for(var o=e(a),i=a;i--;)if((s+=t[o[i]&r]||"").length===+n)return s}},4317:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(1768),a=n(1134),s=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(s,o,i){try{return Promise.resolve(function(a,c){try{var u=(t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},t,{context:o}))).then((function(e){return i.shouldUseNativeValidation&&(0,r.M)({},i),{values:n.rawValues?s:e,errors:{}}})))}catch(l){return c(l)}return u&&u.then?u.then(void 0,c):u}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:(0,r.D)((t=e,n=!i.shouldUseNativeValidation&&"all"===i.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,s=r&&r[t.type];e[t.path]=(0,a.KN)(t.path,n,e,t.type,s?[].concat(s,t.message):t.message)}return e}),{})),i)};var t,n})))}catch(c){return Promise.reject(c)}}}}}]);
//# sourceMappingURL=74.530c4746.chunk.js.map